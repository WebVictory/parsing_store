ссылка на гугл документ https://docs.google.com/document/d/1kgZ3jqPA5v0lECwvtSq57HDSHrHpnAlkdE7dKap7Buw/edit
<p class="has-line-data" data-line-start="0" data-line-end="3">Техническое задание на разработку парсера.<br>
Ссылка на источник: <a href="https://zootovary.ru">https://zootovary.ru</a><br>
Цель - получение информации о товарах: цены, артикулы, штрихкоды, параметры; Получение списка доступных категорий товаров.</p>
<p class="has-line-data" data-line-start="4" data-line-end="13">Общие требования к разработке:<br>
разрабатывается консольное приложение;<br>
язык разработки Python 3;<br>
операционная система, на которой должен работать парсер: Ubuntu 18.04.3 LTS x64 или новее;<br>
придерживаться принципам ООП, избегать высокого уровня вложенности.<br>
написание кода в соответствии с PEP8, наличие необходимых комментариев;<br>
реализовать обработку исключений, код должен продолжать отрабатывать несмотря на появление ошибок в обработке получаемых данных;<br>
реализовать логирование работы (включая логирование ошибок) в TXT-файл;<br>
предусмотреть возможность дальнейшего удобного расширения функционала.</p>
<p class="has-line-data" data-line-start="14" data-line-end="16">Требования к функционалу:<br>
Получение списка категорий товаров. У каждой категории необходимо получить уникальный id и по возможности id родительских либо дочерних категорий для понимания иерархии дерева категорий. Парсер должен конфигурироваться для сбора данных как по полному каталогу, так и по выбранным категориям.</p>
<p class="has-line-data" data-line-start="17" data-line-end="18">Пример типовой структуры файла (categories.csv):</p>
<p class="has-line-data" data-line-start="20" data-line-end="22">Получение списка товаров. Их цены, наименования, артикулы, штрихкоды, цепочки категорий в каталоге, параметры (страна, вес, объем, количество штук), ссылки на изображение, ссылки на страницу товара. Текстовые данные собираются в csv-файлы. Кодировка - Unicode UTF-8, разделитель полей - точка с запятой (;).<br>
Настройка парсера через файл config.json</p>
<p class="has-line-data" data-line-start="23" data-line-end="36">Файл конфигурации должен содержать следующие параметры:<br>
“output_directory” - имя директории, в которую будут записываться csv-файлы c результатами парсинга. По умолчанию: “out”.<br>
“categories” - список id категорий, которые будем парсить. Возможность указать несколько категорий через запятую. Если категорий не задано, перебираем полный каталог, т.е. все категории.<br>
“delay_range_s” - Минимальное и максимальное значение искусственной задержки между товарами в секундах (чтобы избежать блокировки за спам). Программа должна выбирать задержку случайным образом в заданном интервале. По умолчанию 1-3 секунды. При значении 0 искусственная задержка отключается и скорость работы парсера зависит от аппаратного обеспечения.<br>
“max_retries” - количество попыток повторного запроса, в случае некорректного ответа.<br>
“headers” - Необходимые заголовки запросов (User-agent и т.п.).<br>
“logs_dir” - имя директории, в которую будут записываться логи.<br>
“restart” - Количество попыток перезапуска и задержка между ними при аварийном завершении парсинга.<br>
Формат:<br>
“restart”: {<br>
“restart_count”: 3,<br>
“interval_m”: 0.2<br>
}</p>
<p class="has-line-data" data-line-start="38" data-line-end="53">Перечень столбцов выходного CSV-файла с пояснениями по формированию:<br>
price_datetime - Дата и время сбора данных по товару.<br>
price - Регулярная цена.<br>
price_promo - Акционная цена.<br>
sku_status - 1/0 - наличие товара.<br>
sku_barcode - Штрихкод товара. Если их несколько, дублируем строку для каждого из них.<br>
sku_article - Артикул товара. Не записывать в результат парсинга товары, у которых совпадает и артикул, и штрихкод с уже найденными товарами.<br>
sku_name - Наименование товара.<br>
sku_category - Название категории товара в каталоге. Сбор данных должен происходить по иерархии сверху вниз, от родительских категорий к дочерним. Например: ”Колбасные изделия|Сосиски, сардельки, шпикачки|Сосиски”.<br>
sku_country - страна.<br>
sku_weight_min - вес.<br>
sku_volume_min - объем.<br>
sku_quantity_min - количество единиц, например, 100 салфеток в пачке.<br>
sku_link - ссылка на товар в интернет-магазине. Собираем без лишних параметров, в максимально лаконичном виде.<br>
sku_images - Прямые ссылки на каждую фотографию товара.</p>
<p class="has-line-data" data-line-start="54" data-line-end="56">Примечания:<br>
При парсинге продукта перехват ошибок должен быть изолированным по каждому атрибуту. Например, проблемы с извлечением параметра sku_images не должны приводить к пропуску всего товара, достаточно оставить поле sku_images незаполненным.</p>
<p class="has-line-data" data-line-start="57" data-line-end="58">По ходу парсинга в консоль должна выводиться информация, по которой можно судить о текущем статусе парсера (например, обрабатываемый в данный момент товар, категория товаров)</p>
<p class="has-line-data" data-line-start="59" data-line-end="62">Используемые функциональные библиотеки:<br>
Requests<br>
BeautifulSoup</p>
<p class="has-line-data" data-line-start="63" data-line-end="64">Результат выполнения ТЗ выложить на Гитхаб.</p>
